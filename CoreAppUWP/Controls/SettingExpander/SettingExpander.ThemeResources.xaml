<wux:ResourceDictionary
    xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
    xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
    xmlns:controls="using:CoreAppUWP.Controls"
    xmlns:wux="using:Windows.UI.Xaml"
    xmlns:wuxc="using:Windows.UI.Xaml.Controls"
    xmlns:wuxa="using:Windows.UI.Xaml.Automation"
    xmlns:muxc="using:Microsoft.UI.Xaml.Controls">

    <wux:Thickness x:Key="ExpanderContentPadding">0</wux:Thickness>
    <wux:Thickness x:Key="ExpanderChevronMargin">8,0</wux:Thickness>

    <x:String x:Key="SettingExpanderChevronToolTip">Show all settings</x:String>
    <wux:Thickness x:Key="SettingExpanderHeaderPadding">0,16,0,16</wux:Thickness>
    <wux:Thickness x:Key="SettingExpanderItemHeaderPadding">40,16,0,16</wux:Thickness>
    <wux:Thickness x:Key="SettingExpanderItemPadding">58,8,44,8</wux:Thickness>
    <wux:Thickness x:Key="SettingExpanderItemBorderThickness">0,1,0,0</wux:Thickness>
    <wux:Thickness x:Key="ClickableSettingExpanderItemPadding">58,8,16,8</wux:Thickness>

    <x:Double x:Key="SettingExpanderWrapThreshold">410</x:Double>
    <x:Double x:Key="SettingExpanderWrapNoIconThreshold">220</x:Double>

    <x:Double x:Key="SettingExpanderItemWrapThreshold">474</x:Double>
    <x:Double x:Key="SettingExpanderItemWrapNoIconThreshold">284</x:Double>

    <Style x:Key="DefaultSettingExpanderStyle" TargetType="controls:SettingExpander">
        <Style.Setters>
            <wux:Setter Property="Background" Value="{ThemeResource SettingCardBackground}" />
            <wux:Setter Property="Foreground" Value="{ThemeResource SettingCardForeground}" />
            <wux:Setter Property="BorderBrush" Value="{ThemeResource SettingCardBorderBrush}" />
            <wux:Setter Property="BorderThickness" Value="{ThemeResource SettingCardBorderThickness}" />
            <wux:Setter Property="CornerRadius" Value="{ThemeResource ControlCornerRadius}" />
            <wux:Setter Property="MinHeight" Value="{ThemeResource SettingCardMinHeight}" />
            <wux:Setter Property="MinWidth" Value="{ThemeResource SettingCardMinWidth}" />
            <wux:Setter Property="IsTabStop" Value="False" />
            <wux:Setter Property="HorizontalAlignment" Value="Stretch" />
            <wux:Setter Property="HorizontalContentAlignment" Value="Stretch" />
            <wux:Setter Property="VerticalAlignment" Value="Center" />
            <wux:Setter Property="BackgroundSizing" Value="InnerBorderEdge" />
            <wux:Setter Property="Padding" Value="{ThemeResource SettingExpanderHeaderPadding}" />
            <wux:Setter Property="FontFamily" Value="{ThemeResource ContentControlThemeFontFamily}" />
            <wux:Setter Property="FontWeight" Value="Normal" />
            <wux:Setter Property="FontSize" Value="{ThemeResource ControlContentThemeFontSize}" />
            <wux:Setter Property="UseSystemFocusVisuals" Value="{StaticResource UseSystemFocusVisuals}" />
            <wux:Setter Property="FocusVisualMargin" Value="-3" />
            <wux:Setter Property="Template">
                <wux:Setter.Value>
                    <wuxc:ControlTemplate TargetType="controls:SettingExpander">
                        <muxc:Expander
                            MaxWidth="{TemplateBinding MaxWidth}"
                            HorizontalAlignment="{TemplateBinding HorizontalAlignment}"
                            HorizontalContentAlignment="{TemplateBinding HorizontalContentAlignment}"
                            wuxa:AutomationProperties.HelpText="{TemplateBinding AutomationProperties.HelpText}"
                            wuxa:AutomationProperties.Name="{TemplateBinding AutomationProperties.Name}"
                            Background="{TemplateBinding Background}"
                            BorderBrush="{TemplateBinding BorderBrush}"
                            BorderThickness="{TemplateBinding BorderThickness}"
                            CornerRadius="{TemplateBinding CornerRadius}"
                            IsExpanded="{Binding IsExpanded, Mode=TwoWay, RelativeSource={RelativeSource TemplatedParent}}">
                            <muxc:Expander.Header>
                                <controls:Setting
                                    Padding="{TemplateBinding Padding}"
                                    VerticalAlignment="Center"
                                    Background="{ThemeResource SystemControlTransparentBrush}"
                                    BorderThickness="0"
                                    Content="{TemplateBinding ActionContent}"
                                    Description="{TemplateBinding Description}"
                                    Header="{TemplateBinding Header}"
                                    Icon="{TemplateBinding Icon}"
                                    IsClickEnabled="False"
                                    WrapNoIconThreshold="{StaticResource SettingExpanderWrapNoIconThreshold}"
                                    WrapThreshold="{StaticResource SettingExpanderWrapThreshold}" />
                            </muxc:Expander.Header>
                            <muxc:Expander.Content>
                                <wuxc:ItemsPresenter
                                    Footer="{TemplateBinding ItemsFooter}"
                                    Header="{TemplateBinding ItemsHeader}"
                                    TabFocusNavigation="Local" />
                            </muxc:Expander.Content>
                        </muxc:Expander>
                    </wuxc:ControlTemplate>
                </wux:Setter.Value>
            </wux:Setter>
        </Style.Setters>
    </Style>

    <Style x:Key="SettingExpanderExpanderItemStyle" TargetType="controls:SettingExpander">
        <Style.Setters>
            <wux:Setter Property="MinHeight" Value="{StaticResource ExpanderMinHeight}" />
            <wux:Setter Property="Background" Value="{ThemeResource SystemControlTransparentBrush}" />
            <wux:Setter Property="BorderThickness" Value="{ThemeResource SettingExpanderItemBorderThickness}" />
            <wux:Setter Property="Padding" Value="{ThemeResource SettingExpanderItemHeaderPadding}" />
            <wux:Setter Property="CornerRadius" Value="0" />
            <wux:Setter Property="Template">
                <wux:Setter.Value>
                    <wuxc:ControlTemplate TargetType="controls:SettingExpander">
                        <muxc:Expander
                            MaxWidth="{TemplateBinding MaxWidth}"
                            HorizontalAlignment="{TemplateBinding HorizontalAlignment}"
                            HorizontalContentAlignment="{TemplateBinding HorizontalContentAlignment}"
                            wuxa:AutomationProperties.HelpText="{TemplateBinding AutomationProperties.HelpText}"
                            wuxa:AutomationProperties.Name="{TemplateBinding AutomationProperties.Name}"
                            Background="{TemplateBinding Background}"
                            BorderBrush="{TemplateBinding BorderBrush}"
                            BorderThickness="{TemplateBinding BorderThickness}"
                            CornerRadius="{TemplateBinding CornerRadius}"
                            IsExpanded="{Binding IsExpanded, Mode=TwoWay, RelativeSource={RelativeSource TemplatedParent}}">
                            <muxc:Expander.Header>
                                <controls:Setting
                                    Padding="{TemplateBinding Padding}"
                                    VerticalAlignment="Center"
                                    Background="{ThemeResource SystemControlTransparentBrush}"
                                    BorderThickness="0"
                                    Content="{TemplateBinding ActionContent}"
                                    Description="{TemplateBinding Description}"
                                    Header="{TemplateBinding Header}"
                                    Icon="{TemplateBinding Icon}"
                                    IsClickEnabled="False"
                                    Style="{StaticResource DefaultSettingExpanderItemStyle}"
                                    WrapNoIconThreshold="{StaticResource SettingExpanderWrapNoIconThreshold}"
                                    WrapThreshold="{StaticResource SettingExpanderWrapThreshold}" />
                            </muxc:Expander.Header>
                            <muxc:Expander.Content>
                                <wuxc:ItemsPresenter
                                    Footer="{TemplateBinding ItemsFooter}"
                                    Header="{TemplateBinding ItemsHeader}"
                                    TabFocusNavigation="Local" />
                            </muxc:Expander.Content>
                        </muxc:Expander>
                    </wuxc:ControlTemplate>
                </wux:Setter.Value>
            </wux:Setter>
        </Style.Setters>
    </Style>

    <Style x:Key="SettingExpanderSeparatorStyle" TargetType="Rectangle">
        <wux:Setter Property="Height" Value="1" />
        <wux:Setter Property="Stroke" Value="{ThemeResource SettingCardBorderBrush}" />
    </Style>

    <Style x:Key="SettingExpanderContentGridStyle" TargetType="Grid">
        <wux:Setter Property="CornerRadius" Value="0" />
        <wux:Setter Property="BorderThickness" Value="{ThemeResource SettingExpanderItemBorderThickness}" />
        <wux:Setter Property="Background" Value="{ThemeResource SystemControlTransparentBrush}" />
        <wux:Setter Property="HorizontalAlignment" Value="Stretch" />
        <wux:Setter Property="BorderBrush" Value="{ThemeResource SettingCardBorderBrush}" />
        <wux:Setter Property="Padding" Value="{StaticResource SettingExpanderItemPadding}" />
    </Style>

    <Style x:Key="SettingExpanderContentStackPanelStyle" TargetType="StackPanel">
        <wux:Setter Property="CornerRadius" Value="0" />
        <wux:Setter Property="BorderThickness" Value="{ThemeResource SettingExpanderItemBorderThickness}" />
        <wux:Setter Property="Background" Value="{ThemeResource SystemControlTransparentBrush}" />
        <wux:Setter Property="HorizontalAlignment" Value="Stretch" />
        <wux:Setter Property="BorderBrush" Value="{ThemeResource SettingCardBorderBrush}" />
        <wux:Setter Property="Padding" Value="{StaticResource SettingExpanderItemPadding}" />
    </Style>

    <Style x:Key="SettingExpanderExpanderStyle" TargetType="muxc:Expander">
        <wux:Setter Property="HorizontalAlignment" Value="Stretch" />
        <wux:Setter Property="HorizontalContentAlignment" Value="Stretch" />
        <wux:Setter Property="BorderBrush" Value="{ThemeResource SettingCardBorderBrush}" />
        <wux:Setter Property="Background" Value="{ThemeResource SettingCardBackground}" />
        <wux:Setter Property="BorderThickness" Value="{ThemeResource ExpanderContentDownBorderThickness}" />
    </Style>

</wux:ResourceDictionary>
